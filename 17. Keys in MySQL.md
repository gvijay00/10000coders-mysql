
# 📘 **Keys in MySQL**

---

## 🔹 1. What is a Key?

In MySQL, a **key** is a field (or set of fields) in a table that is used to:

* **Uniquely identify rows**
* **Establish relationships** between tables
* **Enforce integrity constraints**

👉 Keys play a crucial role in **data integrity, indexing, and query optimization**.

---

## 🔹 2. Types of Keys in MySQL

---

### 1️⃣ **Primary Key**

* Uniquely identifies each row in a table.
* Cannot have `NULL` values.
* Only **one primary key** per table (can be composite with multiple columns).

**Syntax:**

```sql
CREATE TABLE Students (
    student_id INT PRIMARY KEY,
    name VARCHAR(50),
    age INT
);
```

✔ **Unique + Not Null**
✔ Auto creates an **index** for fast lookup.

---

### 2️⃣ **Foreign Key**

* Establishes a **relationship** between two tables.
* Ensures **referential integrity** → value in child table must exist in parent table.

**Syntax:**

```sql
CREATE TABLE Orders (
    order_id INT PRIMARY KEY,
    student_id INT,
    FOREIGN KEY (student_id) REFERENCES Students(student_id)
);
```

✔ Prevents invalid references.
✔ Supports `ON DELETE` and `ON UPDATE` actions.

---

### 3️⃣ **Unique Key**

* Ensures all values in a column (or combination) are **unique**.
* Allows **NULL values** (unlike Primary Key).
* A table can have **multiple unique keys**.

**Syntax:**

```sql
CREATE TABLE Employees (
    emp_id INT PRIMARY KEY,
    email VARCHAR(100) UNIQUE
);
```

✔ Prevents duplicate entries (e.g., email).

---

### 4️⃣ **Composite Key**

* A **key formed by multiple columns**.
* Uniquely identifies a row using the combination of values.

**Syntax:**

```sql
CREATE TABLE ExamResults (
    student_id INT,
    subject_id INT,
    marks INT,
    PRIMARY KEY (student_id, subject_id)
);
```

✔ `student_id + subject_id` together act as the unique identifier.

---

### 5️⃣ **Candidate Key**

* All possible columns that can uniquely identify a row.
* From candidate keys, **one is chosen as the Primary Key**.

Example:
In a `Students` table with columns `(student_id, email, phone)`:

* `student_id`, `email`, `phone` → all are candidate keys.
* If we choose `student_id` as Primary Key, others remain **alternate keys**.

---

### 6️⃣ **Alternate Key**

* The **remaining candidate keys** after selecting the primary key.

Example:
If `student_id` is the primary key, then `email` and `phone` are **alternate keys**.

---

### 7️⃣ **Super Key**

* A **set of one or more columns** that can uniquely identify rows.
* Includes **primary, unique, composite keys** and even extra attributes.

Example:
In `Students(student_id, email, name)`:

* `(student_id)`, `(email)`, `(student_id, name)` → all are **super keys**.

✔ Every **candidate key is a super key**, but not every super key is minimal.

---

### 8️⃣ **Index Key**

* A key created using **INDEX** for faster retrieval.
* Not necessarily unique.

**Syntax:**

```sql
CREATE INDEX idx_name 
ON Students(name);
```

✔ Improves performance of `SELECT` queries.

---

### 9️⃣ **Compound Key vs Composite Key**

* **Composite Key** = Primary Key made of multiple columns.
* **Compound Key** = Any key (not necessarily primary) made of multiple columns.

---

## 🔹 3. Key Comparison Table

| **Key Type**      | **Unique?** | **Null Allowed?** | **Auto Index?** | **Use Case**                                |
| ----------------- | ----------- | ----------------- | --------------- | ------------------------------------------- |
| **Primary Key**   | ✅ Yes       | ❌ No              | ✅ Yes           | Unique row identifier                       |
| **Foreign Key**   | ❌ No        | ✅ Yes             | ❌ No            | Link tables, maintain referential integrity |
| **Unique Key**    | ✅ Yes       | ✅ Yes (1 NULL)    | ✅ Yes           | Prevent duplicate values                    |
| **Composite Key** | ✅ Yes       | ❌ Depends         | ✅ Yes           | Multi-column unique identification          |
| **Candidate Key** | ✅ Yes       | ❌ Depends         | ❌ No            | Potential primary keys                      |
| **Alternate Key** | ✅ Yes       | ❌ Depends         | ❌ No            | Candidate keys not chosen as PK             |
| **Super Key**     | ✅ Yes       | ❌ Depends         | ❌ No            | Any set of columns that uniquely identifies |
| **Index Key**     | ❌ No        | ✅ Yes             | ✅ Yes           | Speed up searches                           |

---

## 🔹 4. Example with All Keys

```sql
CREATE TABLE Students (
    student_id INT PRIMARY KEY,          -- Primary Key
    email VARCHAR(100) UNIQUE,           -- Unique Key
    phone VARCHAR(15) UNIQUE,            -- Candidate Key
    course_id INT,
    FOREIGN KEY (course_id) REFERENCES Courses(course_id)  -- Foreign Key
);
```

* `student_id`, `email`, `phone` → **Candidate Keys**
* `student_id` → chosen as **Primary Key**
* `email`, `phone` → **Alternate Keys**
* `(student_id, email)` → **Super Key**
* `course_id` → **Foreign Key**

---

## 🔹 5. Summary

* **Primary Key** – Unique + Not Null
* **Foreign Key** – Maintains relationship
* **Unique Key** – Uniqueness but allows NULL
* **Composite Key** – Multi-column unique identifier
* **Candidate Key** – Possible primary keys
* **Alternate Key** – Candidate keys not chosen
* **Super Key** – Any unique identifier set
* **Index Key** – Performance optimization

---

✅ **In short:**
Keys in MySQL ensure **data integrity, uniqueness, relationships, and performance optimization**. They are the backbone of **database normalization and query efficiency**.
